const root=document.documentElement;let primary_text_color,secondary_text_color,primary_background_color,secondary_background_color;null===localStorage.getItem("saved_primary_text_color")?(primary_text_color=getComputedStyle(root).getPropertyValue("--primary_text_color"),localStorage.setItem("saved_primary_text_color",primary_text_color)):(primary_text_color=localStorage.getItem("saved_primary_text_color"),document.querySelector(":root").style.setProperty("--primary_text_color",primary_text_color),document.getElementById("primary_font_color").value=primary_text_color),null===localStorage.getItem("saved_secondary_text_color")?(secondary_text_color=getComputedStyle(root).getPropertyValue("--secondary_text_color"),localStorage.setItem("saved_secondary_text_color",secondary_text_color)):(secondary_text_color=localStorage.getItem("saved_secondary_text_color"),document.querySelector(":root").style.setProperty("--secondary_text_color",secondary_text_color),document.getElementById("secondary_font_color").value=secondary_text_color),null===localStorage.getItem("saved_primary_background_color")?(primary_background_color=getComputedStyle(root).getPropertyValue("--primary_background_color"),localStorage.setItem("saved_primary_background_color",primary_background_color)):(primary_background_color=localStorage.getItem("saved_primary_background_color"),document.querySelector(":root").style.setProperty("--primary_background_color",primary_background_color),document.getElementById("primary_bg_color").value=primary_background_color),null===localStorage.getItem("saved_secondary_background_color")?(secondary_background_color=getComputedStyle(root).getPropertyValue("--secondary_background_color"),localStorage.setItem("saved_secondary_background_color",secondary_background_color)):(secondary_background_color=localStorage.getItem("saved_secondary_background_color"),document.querySelector(":root").style.setProperty("--secondary_background_color",secondary_background_color),document.getElementById("secondary_bg_color").value=secondary_background_color);const default_primary_text_color="#FFA680",default_secondary_text_color="#FFFFFF",default_primary_background_color="#121212",default_secondary_background_color="#424242";let xhr,xhr2,maplist=[],mostRecentTimes=[],mostRecentTopTimes=[],mapRecentTimes=[],mapProTimes=[],current_lb_title="Points",usedTopTimes=[],mostRecentTopTimesFiltered=[],usedTimes=[],postTimes=[],globalTimes=[];const kz_simpleRecords="https://kztimerglobal.com/api/v2.0/records/top/recent?stage=0&tickrate=128&modes_list_string=kz_simple&limit=30",kz_timerRecords="https://kztimerglobal.com/api/v2.0/records/top/recent?stage=0&tickrate=128&modes_list_string=kz_timer&limit=30",kz_vanillaRecords="https://kztimerglobal.com/api/v2.0/records/top/recent?stage=0&tickrate=128&modes_list_string=kz_vanilla&limit=30",kz_simpleTopRecords="https://kztimerglobal.com/api/v2.0/records/top/recent?modes_list_string=kz_simple&place_top_at_least=1&has_teleports=false&stage=0&limit=200&tickrate=128",kz_timerTopRecords="https://kztimerglobal.com/api/v2.0/records/top/recent?modes_list_string=kz_timer&place_top_at_least=1&has_teleports=false&stage=0&limit=200&tickrate=128",kz_vanillaTopRecords="https://kztimerglobal.com/api/v2.0/records/top/recent?modes_list_string=kz_vanilla&place_top_at_least=1&has_teleports=false&stage=0&limit=200&tickrate=128",kz_simpleLoadMap="https://kztimerglobal.com/api/v2.0/records/top?modes_list_string=kz_simple",kz_timerLoadMap="https://kztimerglobal.com/api/v2.0/records/top?modes_list_string=kz_timer",kz_vanillaLoadMap="https://kztimerglobal.com/api/v2.0/records/top?modes_list_string=kz_vanilla",Leaderboard_points_kztimer="https://kztimerglobal.com/api/v2.0/player_ranks?finishes_greater_than=10&mode_ids=200&stages=0&tickrates=128&has_teleports=false&limit=20",Leaderboard_points_simplekz="https://kztimerglobal.com/api/v2.0/player_ranks?finishes_greater_than=0&mode_ids=201&stages=0&tickrates=128&has_teleports=false&limit=20",Leaderboard_points_vanilla="https://kztimerglobal.com/api/v2.0/player_ranks?finishes_greater_than=0&mode_ids=202&stages=0&tickrates=128&has_teleports=false&limit=20";let leaderboardmode_points=Leaderboard_points_simplekz;const Leaderboard_records_kztimer="https://kztimerglobal.com/api/v2.0/records/top/world_records?stages=0&mode_ids=200&tickrates=128&has_teleports=false&limit=20",Leaderboard_records_simplekz="https://kztimerglobal.com/api/v2.0/records/top/world_records?stages=0&mode_ids=201&tickrates=128&has_teleports=false&limit=20",Leaderboard_records_vanilla="https://kztimerglobal.com/api/v2.0/records/top/world_records?stages=0&mode_ids=202&tickrates=128&has_teleports=false&limit=20";let page,name,map,kz_loadmap,recordsUrl,recordsTopUrl,currentmode,currentmap,currenttype,uniquemaplist,leaderboardmode_records=Leaderboard_records_simplekz,current_has_teleports="false",currentpage=0;const imageBaseURL="https://raw.githubusercontent.com/KZGlobalTeam/map-images/public/thumbnails/";let state={buttonText:"Initial text"};function sortArray(e){return e.sort(function(e,t){return Date.parse(t.updated_on)-Date.parse(e.updated_on)}),e}function getmode_id(e){return"kz_timer"===e?200:"kz_simple"===e?201:"kz_vanilla"===e?202:void 0}function getmode_name(e){return"kz_timer"===e||"200"===e?"KZTimer":"kz_simple"===e||"201"===e?"SimpleKZ":"kz_vanilla"===e||"202"===e?"Vanilla":void 0}function disableScrolling(){let e=window.scrollX,t=window.scrollY;window.onscroll=function(){window.scrollTo(e,t)}}function enableScrolling(){window.onscroll=function(){}}function str_pad_left(e,t,n){return(new Array(n+1).join(t)+e).slice(-n)}function numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function timeConvert(e){return ms=e.toString().split("."),ms[1]||(ms[1]="000"),1===ms[1].length&&(ms[1]+="0"),e>=3600?(hours=Math.floor(e/3600),minutes=Math.floor(e%3600/60),seconds=Math.floor(e%60),str_pad_left(hours,"",2)+":"+str_pad_left(minutes,"0",2)+":"+str_pad_left(seconds,"0",2)+"."+ms[1].substr(0,2)):"NA"===e?"NA":e<60?(seconds=Math.floor(e%60),str_pad_left(seconds," ",2)+"."+ms[1].substr(0,2)):(minutes=Math.floor(e%3600/60),seconds=Math.floor(e%60),str_pad_left(minutes,"",2)+":"+str_pad_left(seconds,"0",2)+"."+ms[1].substr(0,2))}function sortWorldRecords(e){return e.sort(function(e,t){return t.world_records-e.world_records}),e}function dateConvert(e){e=new Date(e);let t=(e=new Date(e-6e4*e.getTimezoneOffset())).getDate(),n=e.getMonth()+1,r=e.getFullYear(),o=e.getHours(),l=e.getMinutes();return e=parseInt(o)>12?n+"."+t+"."+r+"  "+(o=parseInt(o)-12)+":"+(parseInt(l)<10?"0"+l:l)+"pm":0===o?n+"."+t+"."+r+"  12:"+(parseInt(l)<10?"0"+l:l)+"am":12==o?n+"."+t+"."+r+"  12:"+(parseInt(l)<10?"0"+l:l)+"pm":n+"."+t+"."+r+"  "+o+":"+(parseInt(l)<10?"0"+l:l)+"am"}function escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function checkLength(e){null!==e.player_name?playerName=escapeHtml(e.player_name):playerName="null"}function resetModeColor(){document.getElementById("mode-kz_vanilla-desktop").style.color=primary_text_color,document.getElementById("mode-kz_simple-desktop").style.color=primary_text_color,document.getElementById("mode-kz_timer-desktop").style.color=primary_text_color}function resetMapTags(){document.getElementById("LeaderBoardOptions_tech").style.color=primary_text_color,document.getElementById("LeaderBoardOptions_bhop").style.color=primary_text_color,document.getElementById("LeaderBoardOptions_climb").style.color=primary_text_color,document.getElementById("LeaderBoardOptions_combo").style.color=primary_text_color,document.getElementById("LeaderBoardOptions_overall").style.color=primary_text_color}function resetAll(){document.getElementById("displayMapData").style.display="none",document.getElementById("displayMapTimes").style.display="none",document.getElementById("displayPlayerProfile").style.display="none",document.getElementById("maps").style.display="none",document.getElementById("MobileLeaderboardsMode").innerHTML="",document.getElementById("playerLeaderboards").style.display="none",document.getElementById("playerBans").style.display="none",document.getElementById("button_container").style.display="none",document.getElementById("graph_container").style.display="none",document.getElementById("displayMapData").style.display="none",document.getElementById("wr_progression_button").style.display="none",document.getElementById("map_graph").style.display="none",document.getElementById("displayTimes").style.display="none",document.getElementById("pagination").style.display="none",document.getElementById("searchMap").value="",document.getElementById("searchPlayerInfo_input").value="",document.getElementById("searchPlayerInfo").style.display="none"}function getDifficulty(e){return 1===e?"Very Easy":2===e?"Easy":3===e?"Medium":4===e?"Hard":5===e?"Very Hard":6===e?"Death":"NA"}function toFixed(e,t){return(+(Math.round(+(e+"e"+t))+"e"+-t)).toFixed(t)}function getTimeDifference(e){timeAchieved=new Date(e),timeAchieved-=6e4*timeAchieved.getTimezoneOffset(),timeNow=(new Date).toUTCString();let t=(Date.parse(timeNow)-timeAchieved)/36e5;return t<1?Math.ceil(60*t)+" minutes ago":t<24?Math.ceil(t)+" hours ago":t>=24?Math.ceil(t/24)+" days ago":void 0}function getsMapsSearch(e){for(delete_maps_from_map_list(),mapArrayByID=[],countmaps=0,i=0;i<maplist.length;i++)for(j=0;j<maplist.length;j++)maplist[j].name.includes(e[i])&&mapArrayByID.push([maplist[j].id,maplist[j].name,maplist[j].difficulty]);for(i=0;i<mapArrayByID.length&&!(countmaps>=18);i++){const e=$("<div>",{id:mapArrayByID[i][1],class:"maps_page_list"});/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?e.append("<img onerror=this.src='https://d2u7y93d5eagqt.cloudfront.net/mapImages/thumbs/tn_noimage.jpg' style='width: 120px; height: 68px;' src="+imageBaseURL+mapArrayByID[i][1]+".jpg><span style='color:"+secondary_text_color+"; padding-left: 15px;'>"+mapArrayByID[i][1]+"<br><div>"+getDifficulty(mapArrayByID[i][2])+"</div></span>"):e.append("<img onerror=this.src='https://d2u7y93d5eagqt.cloudfront.net/mapImages/thumbs/tn_noimage.jpg' style='width: 150px; height: 84px;' src="+imageBaseURL+mapArrayByID[i][1]+".jpg><span style='color:"+secondary_text_color+"; padding-left: 15px;'>"+mapArrayByID[i][1]+"<br><div>"+getDifficulty(mapArrayByID[i][2])+"</div></span>"),$("#list_of_maps").append(e),e.click(function(e){e.target.parentNode.id.includes("_")&&(document.getElementById("searchMap").value=e.target.parentNode.id,loadMap(document.getElementById("searchMap").value))}),countmaps++}document.getElementById("TitleMaps").innerHTML="Maps that include: "+document.getElementById("searchMap").value,document.getElementById("TitleMaps").style.color=secondary_text_color,document.getElementById("searchMap").value="",document.getElementById("displayTimes").style.display="none",document.getElementById("displayMapTimes").style.display="none",document.getElementById("pagination").style.display="none",document.getElementById("pagination").style.opacity=1,document.getElementById("displayPlayerProfile").style.display="none",document.getElementById("maps").style.display="flex",document.getElementById("playerLeaderboards").style.display="none",document.getElementById("graph_container").style.display="none",document.getElementById("button_container").style.display="none",document.getElementById("wr_progression_button").style.display="none",document.getElementById("map_graph").style.display="none"}function getMaps(e){resetAll(),delete_maps_from_map_list(),document.getElementById("TitleMaps").innerHTML="Maps",document.getElementById("TitleMaps").style.color=secondary_text_color,document.getElementById("loading").style.opacity=1,document.getElementById("loading").style.zIndex=1;let t=0;for(i=e;i<maplist.length&&!(t>=18);i++){const e=$("<div>",{id:maplist[i].name,class:"maps_page_list"});/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?e.append("<img onerror=this.src='https://d2u7y93d5eagqt.cloudfront.net/mapImages/thumbs/tn_noimage.jpg' style='width: 120px; height: 68px;' src="+imageBaseURL+maplist[i].name+".jpg><span style='color:"+secondary_text_color+"; padding-left: 15px;'>"+maplist[i].name+"<br><div>"+getDifficulty(maplist[i].difficulty)+"</div></span>"):e.append("<img onerror=this.src='https://d2u7y93d5eagqt.cloudfront.net/mapImages/thumbs/tn_noimage.jpg' style='width: 150px; height: 84px;' src="+imageBaseURL+maplist[i].name+".jpg><span style='color:"+secondary_text_color+"; padding-left: 15px;'>"+maplist[i].name+"<br><div>"+getDifficulty(maplist[i].difficulty)+"</div></span>"),$("#list_of_maps").append(e),e.click(function(e){if(e.target.parentNode.id.includes("_")){if(e.target.parentNode.id.includes("list_of_maps"))return;document.getElementById("searchMap").value=e.target.parentNode.id,loadMap(document.getElementById("searchMap").value)}}),t++}document.getElementById("pagination").style.display="flex",document.getElementById("pagination").style.opacity="1",document.getElementById("maps").style.display="flex",document.getElementById("loading").style.opacity=0,document.getElementById("loading").style.zIndex=-1}function getPlayerBanInfo(e){$("#playerBanInfo td").remove(),document.getElementById("TablesBans").style.display="none",document.getElementById("playerBanInfo").style.display="flex",fetch(e).then(function(e){return e.json()}).then(function(e){if(0===e.length)return void(document.getElementById("gokz_api_player_ban_title").innerHTML="This Steam ID is not banned");document.getElementById("gokz_api_player_ban_title").innerHTML=e[0].steam_id;let t=document.getElementById("gokz_api_player_ban").insertRow(-1),n=t.insertCell(0),r=t.insertCell(1),o=t.insertCell(2),l=t.insertCell(3),a=t.insertCell(4);t.id="TableTitle",n.innerHTML="Steam ID",r.innerHTML="Ban Type",o.innerHTML="Stats",l.innerHTML="Expires on",n=(t=document.getElementById("gokz_api_player_ban").insertRow(-1)).insertCell(0),r=t.insertCell(1),o=t.insertCell(2),l=t.insertCell(3),a=t.insertCell(4),t.id=e[0].steam_id,n.innerHTML=e[0].steam_id,r.innerHTML=e[0].ban_type,o.innerHTML=e[0].stats,l.innerHTML=dateConvert(e[0].expires_on)})}function getBans(e){resetAll(),disableScrolling(),document.getElementById("loading").style.opacity=1,document.getElementById("loading").style.zIndex=1,$("#TablesBans td").remove(),document.getElementById("playerBans").style.display="flex",document.getElementById("TablesBans").style.display="flex",document.getElementById("playerBanInfo").style.display="none",fetch("https://kztimerglobal.com/api/v2.0/bans?offset="+e+"&limit=20").then(function(e){return e.json()}).then(function(e){window.history.pushState("page","Page","/?page=bans");let t=document.getElementById("gokz_api_bans").insertRow(-1),n=t.insertCell(0),r=t.insertCell(1),o=t.insertCell(2),l=t.insertCell(3);t.insertCell(4);for(t.id="TableTitle",n.innerHTML="Steam ID",r.innerHTML="Ban Type",o.innerHTML="Stats",l.innerHTML="Expires on",i=0;i<20;i++){let t=document.getElementById("gokz_api_bans").insertRow(-1),n=t.insertCell(0),r=t.insertCell(1),o=t.insertCell(2),l=t.insertCell(3);t.insertCell(4);t.id=e[i].steam_id;let a="http://steamcommunity.com/profiles/"+e[i].steamid64;n.innerHTML="<a style='color:"+secondary_text_color+"; text-decoration:none' target='_blank' href="+a+">"+e[i].steam_id+"</a>",r.innerHTML=e[i].ban_type,o.innerHTML=e[i].stats,l.innerHTML=dateConvert(e[i].expires_on)}document.getElementById("loading").style.opacity=0,document.getElementById("loading").style.zIndex=-1,enableScrolling()})}function getRank(e,t){let n,r;return"kz_vanilla"===t?(n=.5,r=1e3*uniquemaplist):"kz_simple"===t?(n=1,r=1e3*uniquemaplist):"kz_timer"===t&&(n=1,r=1e3*uniquemaplist),e<r*n*.02?"New":e<r*n*.05?"Trainee":e<r*n*.15?"Casual":e<r*n*.25?"Regular":e<r*n*.4?"Skilled":e<r*n*.65?"Expert":e<r*n*.85?"Semi-Pro":e<r*n*1?"Pro":void 0}function getPlayerPointsAndRanks(e){let t=0;fetch(e).then(function(e){return e.json()}).then(function(e){t=0===e.length?0:e[0].points,document.getElementById("playerRanks").innerHTML=getRank(t,currentmode),document.getElementById("playerPoints").innerHTML=numberWithCommas(t)+" Points",enableScrolling(),"none"===document.getElementById("playerPoints").style.display&&(document.getElementById("playerPoints").style.display="block"),document.getElementById("playerName").setAttribute("href","https://steamcommunity.com/profiles/"+e[0].steamid64),document.getElementById("playerName").setAttribute("target","_blank")})}function showSettings(){"flex"===document.getElementById("MobileMenu").style.display?(document.getElementById("MobileMenu").style.display="none",document.getElementById("MobileMenu").style.zIndex="-1"):(document.getElementById("MobileMenu").style.display="flex",document.getElementById("MobileMenu").style.zIndex="5")}function getPlayerInfo_table_globals_only(e){$("#TableTimes tr").remove();let t=document.getElementById("TableTimes").insertRow(-1),n=t.insertCell(0),r=t.insertCell(1),o=t.insertCell(2),l=t.insertCell(3),a=t.insertCell(4),s=t.insertCell(5);for(t.id="TableTitle",n.innerHTML="Map Name",r.innerHTML="Time","Show Pro Times"===document.getElementById("showTimes").innerHTML?o.innerHTML="TPs":o.innerHTML="",l.innerHTML="Points",a.innerHTML="Server",s.innerHTML="Date",count=0,document.getElementById("showGlobalTimes").innerHTML="Show All Times",i=0;i<e.length;i++){if(-1===e[i].map_id)continue;if(20===count){count=0;break}let t=document.getElementById("TableTimes").insertRow(-1),n=t.insertCell(0),r=t.insertCell(1),o=t.insertCell(2),l=t.insertCell(3),a=t.insertCell(4),s=t.insertCell(5);n.parentNode.id=e[i].map_name,n.innerHTML="ðŸ† "+e[i].map_name,r.innerHTML=timeConvert(e[i].time),"Show Pro Times"===document.getElementById("showTimes").innerHTML?/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?o.innerHTML=e[i].teleports:o.innerHTML=e[i].teleports>1?e[i].teleports+" TPs":e[i].teleports+" TP":o.innerHTML="",l.innerHTML=e[i].points,null===e[i].server_name?a.innerHTML="NA":e[i].server_name.length>18?a.innerHTML=e[i].server_name.substr(0,15)+"...":a.innerHTML=e[i].server_name,a.style.color=primary_text_color,s.innerHTML=dateConvert(e[i].created_on),count++}enableScrolling(),document.getElementById("pagination").style.display="flex",$("td").click(function(e){"TableTitle"!==e.target.parentNode.id&&(document.getElementById("searchMap").value=e.target.parentNode.id,loadMap(document.getElementById("searchMap").value))})}function getPlayerInfo_table(e){$("#TableTimes tr").remove();let t=document.getElementById("TableTimes").insertRow(-1),n=t.insertCell(0),r=t.insertCell(1);if(e[0].teleports>0){let e=t.insertCell(2),o=t.insertCell(3),l=t.insertCell(4),a=t.insertCell(5);t.id="TableTitle",n.innerHTML="Map Name",r.innerHTML="Time",e.innerHTML="TPs",o.innerHTML="Points",l.innerHTML="Server",a.innerHTML="Date"}else{let e=t.insertCell(2),o=t.insertCell(3),l=t.insertCell(4),a=t.insertCell(5);t.id="TableTitle",n.innerHTML="Map Name",r.innerHTML="Time",e.innerHTML="",o.innerHTML="Points",l.innerHTML="Server",a.innerHTML="Date"}let o=0;for(document.getElementById("showGlobalTimes").innerHTML="Show Global Times",i=0;i<e.length;i++){if(-1===e[i].map_id)continue;if(20===o){o=0;break}let t=document.getElementById("TableTimes").insertRow(-1),n=t.insertCell(0),r=t.insertCell(1);if(e[0].teleports>0){let o=t.insertCell(2),l=t.insertCell(3),a=t.insertCell(4),s=t.insertCell(5);n.parentNode.id=e[i].map_name,1e3===e[i].points?n.innerHTML="ðŸ† "+e[i].map_name:n.innerHTML=e[i].map_name,r.innerHTML=timeConvert(e[i].time),/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?o.innerHTML=e[i].teleports:o.innerHTML=e[i].teleports>1?e[i].teleports+" TPs":e[i].teleports+" TP",l.innerHTML=e[i].points,null===e[i].server_name?a.innerHTML="null":e[i].server_name.length>18?a.innerHTML=e[i].server_name.substr(0,15)+"...":a.innerHTML=e[i].server_name,a.style.color=primary_text_color,s.innerHTML=dateConvert(e[i].created_on)}else{t.insertCell(2);let o=t.insertCell(3),l=t.insertCell(4),a=t.insertCell(5);n.parentNode.id=e[i].map_name,1e3===e[i].points?n.innerHTML="ðŸ† "+e[i].map_name:n.innerHTML=e[i].map_name,r.innerHTML=timeConvert(e[i].time),0===e[i].points?o.innerHTML="-":o.innerHTML=e[i].points,null===e[i].server_name?l.innerHTML="null":e[i].server_name.length>18?l.innerHTML=e[i].server_name.substr(0,15)+"...":l.innerHTML=e[i].server_name,l.style.color=primary_text_color,a.innerHTML=dateConvert(e[i].created_on)}o++}enableScrolling(),document.getElementById("pagination").style.display="flex",$("td").click(function(e){"TableTitle"!==e.target.parentNode.id&&(document.getElementById("searchMap").value=e.target.parentNode.id,loadMap(document.getElementById("searchMap").value))})}function sortPlayerInfo(e){$("#TableTimes tr").remove();let t=document.getElementById("TableTimes").insertRow(-1),n=t.insertCell(0),r=t.insertCell(1),o=t.insertCell(2),l=t.insertCell(3),a=t.insertCell(4),s=t.insertCell(5);t.id="TableTitle",n.innerHTML="Map Name",r.innerHTML="Time","Show Pro Times"===document.getElementById("showTimes").innerHTML?o.innerHTML="TPs":o.innerHTML="",l.innerHTML="Points",a.innerHTML="Server",s.innerHTML="Date";let d=0;for(i=0;i<postTimes.length;i++)if(null!==postTimes[i].map_name&&postTimes[i].map_name.includes(e)){let e=document.getElementById("TableTimes").insertRow(-1),t=e.insertCell(0),n=e.insertCell(1),r=e.insertCell(2),o=e.insertCell(3),l=e.insertCell(4),a=e.insertCell(5);if(e.id=postTimes[i].map_name,1e3===postTimes[i].points?t.innerHTML="ðŸ† "+postTimes[i].map_name:t.innerHTML=postTimes[i].map_name,n.innerHTML=timeConvert(postTimes[i].time),"Show Pro Times"===document.getElementById("showTimes").innerHTML?r.innerHTML=postTimes[i].teleports>1?postTimes[i].teleports+" TPs":postTimes[i].teleports+" TP":r.innerHTML="",o.innerHTML=postTimes[i].points,l.innerHTML=null===postTimes[i].server_name?"null":postTimes[i].server_name,l.style.color=primary_text_color,a.innerHTML=dateConvert(postTimes[i].created_on),20===++d)break}$("td").click(function(e){"TableTitle"!==e.target.parentNode.id&&(document.getElementById("searchMap").value=e.target.parentNode.id,loadMap(document.getElementById("searchMap").value))})}window.addEventListener("popstate",function(e){window.location.reload()}),fetch("https://kztimerglobal.com/api/v2.0/maps?is_validated=true&limit=1000").then(function(e){return e.json()}).then(function(e){for(i=0;i<e.length;i++)maplist.push(e[i])}),document.getElementById("mobile_menu_icon").addEventListener("click",function(){"flex"===document.getElementById("MobileMenu").style.display?(document.getElementById("MobileMenu").style.display="none",document.getElementById("MobileMenu").style.zIndex="-1"):(document.getElementById("MobileMenu").style.display="flex",document.getElementById("MobileMenu").style.zIndex="5")}),document.getElementById("custom_settings_submit").addEventListener("click",function(){document.querySelector(":root").style.setProperty("--primary_text_color",document.getElementById("primary_font_color").value),localStorage.setItem("saved_primary_text_color",document.getElementById("primary_font_color").value),document.querySelector(":root").style.setProperty("--secondary_text_color",document.getElementById("secondary_font_color").value),localStorage.setItem("saved_secondary_text_color",document.getElementById("secondary_font_color").value),document.querySelector(":root").style.setProperty("--primary_background_color",document.getElementById("primary_bg_color").value),localStorage.setItem("saved_primary_background_color",document.getElementById("primary_bg_color").value),document.querySelector(":root").style.setProperty("--secondary_background_color",document.getElementById("secondary_bg_color").value),localStorage.setItem("saved_secondary_background_color",document.getElementById("secondary_bg_color").value),primary_text_color=getComputedStyle(root).getPropertyValue("--primary_text_color"),secondary_text_color=getComputedStyle(root).getPropertyValue("--secondary_text_color"),primary_background_color=getComputedStyle(root).getPropertyValue("--primary_background_color"),secondary_background_color=getComputedStyle(root).getPropertyValue("--secondary_background_color"),document.getElementById("MobileMenu").style.display="none",document.getElementById("MobileMenu").style.zIndex="-1","kz_simple"===currentmode?(document.getElementById("mode-kz_simple-desktop").style.color=secondary_text_color,document.getElementById("mode-kz_timer-desktop").style.color=primary_text_color,document.getElementById("mode-kz_vanilla-desktop").style.color=primary_text_color):"kz_timer"===currentmode?(document.getElementById("mode-kz_simple-desktop").style.color=primary_text_color,document.getElementById("mode-kz_timer-desktop").style.color=secondary_text_color,document.getElementById("mode-kz_vanilla-desktop").style.color=primary_text_color):"kz_vanilla"===currentmode&&(document.getElementById("mode-kz_simple-desktop").style.color=primary_text_color,document.getElementById("mode-kz_timer-desktop").style.color=primary_text_color,document.getElementById("mode-kz_vanilla-desktop").style.color=secondary_text_color),resetAll(),recentAndLatest()}),document.getElementById("custom_settings_reset").addEventListener("click",function(){document.querySelector(":root").style.setProperty("--primary_text_color","#FFA680"),document.querySelector(":root").style.setProperty("--secondary_text_color","#FFFFFF"),document.querySelector(":root").style.setProperty("--primary_background_color","#121212"),document.querySelector(":root").style.setProperty("--secondary_background_color","#424242"),document.getElementById("primary_font_color").value="#FFA680",document.getElementById("secondary_font_color").value="#FFFFFF",document.getElementById("primary_bg_color").value="#121212",document.getElementById("secondary_bg_color").value="#424242",primary_text_color=getComputedStyle(root).getPropertyValue("--primary_text_color"),secondary_text_color=getComputedStyle(root).getPropertyValue("--secondary_text_color"),primary_background_color=getComputedStyle(root).getPropertyValue("--primary_background_color"),secondary_background_color=getComputedStyle(root).getPropertyValue("--secondary_background_color")});let c,d,loc,scale,map_id,trace1,trace2,link="";function getPlayerInfo(e,t){resetAll(),disableScrolling(),currentpage=0,document.getElementById("playerAvatar").innerHTML="",document.getElementById("playerName").innerHTML="",document.getElementById("playerPoints").style.display="none",document.getElementById("displayTimes").style.display="none",document.getElementById("displayMapTimes").style.display="none",document.getElementById("searchPlayerInfo").style.display="None",document.getElementById("NoPlayer").style.display="none",e.includes("steam_id")&&(document.getElementById("searchMap").value=t),window.history.pushState("map","Map","/?name="+t+"&mode="+currentmode),document.getElementById("loading").style.opacity=1,document.getElementById("loading").style.zIndex=1,usedTimes=[],postTimes=[],$("#TableTimes tr").remove(),$("#playerName a").remove(),$.ajax({url:e,success:function(t){if(link=e,document.getElementById("loading").style.opacity=0,document.getElementById("loading").style.zIndex=-1,(e.includes("player_name")||e.includes("steam_id"))&&0===t.length){if("false"!==current_has_teleports)return console.log(current_has_teleports+": Couldn't find them!"),document.getElementById("displayPlayerTimes").style.display="none",void(document.getElementById("NoPlayer").style.display="flex");current_has_teleports="true",console.log("Called here! - "+current_has_teleports),getPlayerInfo("https://kztimerglobal.com/api/v2.0/records/top?steam_id="+document.getElementById("searchMap").value+"&tickrate=128&stage=0&has_teleports="+current_has_teleports+"&limit=1200&&modes_list_string="+currentmode,document.getElementById("searchMap").value)}else if((e.includes("player_name")||e.includes("steam_id"))&&null===t[0].player_name){if(console.log("null catch"),"false"!==current_has_teleports)return document.getElementById("displayPlayerTimes").style.display="none",void(document.getElementById("NoPlayer").style.display="flex");current_has_teleports="true",getPlayerInfo("https://kztimerglobal.com/api/v2.0/records/top?steam_id="+document.getElementById("searchMap").value+"&tickrate=128&stage=0&has_teleports="+current_has_teleports+"&limit=1200&&modes_list_string="+currentmode,document.getElementById("searchMap").value)}else{for(document.getElementById("searchMap").value=t[0].steam_id,i=0;i<t.length;i++)t[i].steam_id===t[0].steam_id&&(usedTimes.includes(t[i].map_id)||(usedTimes.push(t[i].map_id),postTimes.push(t[i])));checkLength(t[0]),document.getElementById("playerName").innerHTML=playerName,/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&$("br").remove();let n=[];if(e.includes("teleports=true")){for(uniquemaplist=0,i=0;i<maplist.length;i++)maplist[i].name.includes("kzpro")||maplist[i].name.includes("skz_")&&"kz_simple"!==currentmode||maplist[i].name.includes("vnl_")&&"kz_vanilla"!==currentmode||(n.push(maplist[i].name),uniquemaplist++);document.getElementById("playerProTimes").innerHTML=postTimes.length+" / "+uniquemaplist+" TP Times",document.getElementById("showTimes").innerHTML="Show Pro Times"}else{for(uniquemaplist=0,i=0;i<maplist.length;i++)maplist[i].name.includes("skz_")&&"kz_simple"!==currentmode||maplist[i].name.includes("vnl_")&&"kz_vanilla"!==currentmode||uniquemaplist++;document.getElementById("playerProTimes").innerHTML=postTimes.length+" / "+uniquemaplist+" Pro Times",document.getElementById("showTimes").innerHTML="Show TP Times"}getPlayerInfo_table(postTimes=sortArray(postTimes)),"kz_timer"===currentmode?map_mode=200:"kz_simple"===currentmode?map_mode=201:"kz_vanilla"===currentmode&&(map_mode=202),getPlayerPointsAndRanks("https://kztimerglobal.com/api/v2.0/player_ranks?steamid64s="+t[0].steamid64+"&stages=0&mode_ids="+map_mode+"&has_teleports="+current_has_teleports+"&finishes_greater_than=0"),fetch("https://gokzstats.jacobwbarrett.workers.dev/?http://api.steampowered.com/ISteamUser/GetPlayerSummaries/v0002/?key=A4EA5418B4405A51E6A97415C408D3BE&steamids="+t[0].steamid64).then(function(e){return e.json()}).then(function(e){document.getElementById("playerAvatar").innerHTML="<img src="+e.response.players[0].avatarfull+"></img>"}),document.getElementById("searchPlayerInfo").style.display="block",document.getElementById("pagination").style.display="flex",document.getElementById("pagination").style.opacity=1}},timeout:12e3,error:function(t,n,r){"timeout"===n?(console.log("Request has timed out."),current_has_teleports="false",getPlayerInfo(e,document.getElementById("searchMap").value)):(console.log(r),document.getElementById("errorloading").style.display="flex")}}),document.getElementById("playerName").style.display="flex",document.getElementById("displayTimes").style.display="none",document.getElementById("displayMapTimes").style.display="none",document.getElementById("displayPlayerProfile").style.display="flex",document.getElementById("displayPlayerTimes").style.display="flex",document.getElementById("maps").style.display="none",document.getElementById("playerLeaderboards").style.display="none",document.getElementById("graph_container").style.display="none",document.getElementById("button_container").style.display="none",document.getElementById("wr_progression_button").style.display="none",document.getElementById("map_graph").style.display="none"}function Leaderboard(e,t,n,r){if(resetAll(),disableScrolling(),document.getElementById("loading").style.opacity=1,document.getElementById("loading").style.zIndex=1,document.getElementById("playerLeaderboards").style.display="flex",document.getElementById("TitleLeaderboards").style.color=secondary_text_color,20===r?(document.getElementById("button_container_leaderboards").style.display="flex",document.getElementById("show_more_leaderboards_button").style.display="flex"):(document.getElementById("button_container_leaderboards").style.display="none",document.getElementById("show_more_leaderboards_button").style.display="none"),$("tbody tr").remove(),leaderboardmode_points="https://kztimerglobal.com/api/v2.0/player_ranks?finishes_greater_than=0&stages=0&mode_ids="+getmode_id(e)+"&has_teleports="+n+"&limit="+r+"&mapTag="+t,leaderboardmode_records="https://kztimerglobal.com/api/v2.0/records/top/world_records?stages=0&mode_ids="+getmode_id(e)+"&tickrates=128&has_teleports="+n+"&limit="+r+"&mapTag="+t,"kz_simple"===e?(document.getElementById("TitleLeaderboards").innerHTML="Top 20 Players for SimpleKZ | ",document.getElementById("mode-kz_simple-desktop").style.color=secondary_text_color,document.getElementById("mode-kz_timer-desktop").style.color=primary_text_color,document.getElementById("mode-kz_vanilla-desktop").style.color=primary_text_color):"kz_timer"===e?(document.getElementById("TitleLeaderboards").innerHTML="Top 20 Players for KZTimer | ",document.getElementById("mode-kz_simple-desktop").style.color=primary_text_color,document.getElementById("mode-kz_timer-desktop").style.color=secondary_text_color,document.getElementById("mode-kz_vanilla-desktop").style.color=primary_text_color):"kz_vanilla"===e&&(document.getElementById("TitleLeaderboards").innerHTML="Top 20 Players for Vanilla | ",document.getElementById("mode-kz_simple-desktop").style.color=primary_text_color,document.getElementById("mode-kz_timer-desktop").style.color=primary_text_color,document.getElementById("mode-kz_vanilla-desktop").style.color=secondary_text_color),window.history.pushState("page","Page","/?page=leaderboards&mode="+e+"&type="+t),document.getElementById("LeaderboardMode").innerHTML="true"===current_has_teleports?"<h2>TP</h2>":"<h2>Pro</h2>",/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){document.getElementById("LeaderboardTables_records").style.display="none",document.getElementById("LeaderboardMode").style.display="none",document.getElementById("TitleLeaderboards").innerHTML=getmode_name(currentmode)+" Leaderboards",document.getElementById("MobileLeaderboardsMode").style.display="flex",document.getElementById("MobileLeaderboardsMode").innerHTML="true"===current_has_teleports?"<span style='color:"+primary_text_color+"'>Pro&nbsp;</span> <span style='color:"+secondary_text_color+"'>/ TP</span>":"<span style='color:"+secondary_text_color+"'>Pro /</span><span style='color:"+primary_text_color+"'>&nbsp;TP</span>","Records"===current_lb_title?(document.getElementById("LeaderboardTables_records_title").innerHTML="<span style='color:"+primary_text_color+"'>Points</span> <span style='color:"+secondary_text_color+"'>/ Records</span>",document.getElementById("LeaderboardTables_points").style.display="none",document.getElementById("LeaderboardTables_records").style.display="flex"):(document.getElementById("LeaderboardTables_points_title").innerHTML="<span style='color:"+secondary_text_color+"'>Points /</span> <span style='color:"+primary_text_color+"'> Records</span>",document.getElementById("LeaderboardTables_points").style.display="flex",document.getElementById("LeaderboardTables_records").style.display="none");let e=document.getElementsByClassName("LeaderboardTables_titles");for(let t=0;t<e.length;t++)e[t].addEventListener("click",function(){"LeaderboardTables_points_title"===e[t].id?(current_lb_title="Records",document.getElementById("LeaderboardTables_records_title").innerHTML="<span style='color:"+primary_text_color+"'>Points</span> <span style='color:"+secondary_text_color+"'>/ Records</span>",document.getElementById("LeaderboardTables_points").style.display="none",document.getElementById("LeaderboardTables_records").style.display="flex"):"LeaderboardTables_records_title"===e[t].id&&(current_lb_title="Points",document.getElementById("LeaderboardTables_points_title").innerHTML="<span style='color:"+secondary_text_color+"'>Points /</span> <span style='color:"+primary_text_color+"'> Records</span>",document.getElementById("LeaderboardTables_points").style.display="flex",document.getElementById("LeaderboardTables_records").style.display="none")})}$.ajax({url:leaderboardmode_points,success:function(e){let t=document.getElementById("LeaderboardTables_points").insertRow(-1),n=t.insertCell(0),o=t.insertCell(1),l=t.insertCell(2),a=t.insertCell(3);t.id="TableTitle",n.innerHTML="#",o.innerHTML="Player Name",l.innerHTML="Average",a.innerHTML="Points";let s=e.length>r?r:e.length;for(i=0;i<s;i++){let t=document.getElementById("LeaderboardTables_points").insertRow(-1),n=t.insertCell(0),r=t.insertCell(1),o=t.insertCell(2),l=t.insertCell(3);t.id=e[i].steamid,n.innerHTML=i+1,r.id=e[i].steamid,checkLength(e[i]),playerName.length>22?r.innerHTML=playerName.substr(0,19)+"...":r.innerHTML=playerName,o.innerHTML=toFixed(e[i].average,1),l.innerHTML=numberWithCommas(e[i].points)}$.ajax({url:leaderboardmode_records,success:function(e){let t=document.getElementById("LeaderboardTables_records").insertRow(-1),n=t.insertCell(0),o=t.insertCell(1),l=t.insertCell(2);t.id="TableTitle",n.innerHTML="#",o.innerHTML="Player Name",l.innerHTML="Records";let a=e.length>r?r:e.length;for(i=0;i<a;i++){let t=document.getElementById("LeaderboardTables_records").insertRow(-1),n=t.insertCell(0),r=t.insertCell(1),o=t.insertCell(2);t.id=e[i].steam_id,n.innerHTML=i+1,r.id=e[i].steam_id,checkLength(e[i]),r.innerHTML=playerName,o.innerHTML=e[i].count}enableScrolling(),document.getElementById("loading").style.opacity=0,document.getElementById("loading").style.zIndex=-1,$("td").click(function(e){e.target.parentNode.id.includes("STEAM_")&&(document.getElementById("searchMap").value=e.target.parentNode.id,current_has_teleports="false",getPlayerInfo("https://kztimerglobal.com/api/v2.0/records/top?steam_id="+e.target.parentNode.id+"&tickrate=128&stage=0&has_teleports="+current_has_teleports+"&limit=1200&&place_top_at_least=20&modes_list_string="+currentmode,e.target.parentNode.id))})}})}})}function loadMap(e){let t,n;if(disableScrolling(),$("#TableProTimes tr").remove(),$("#TableOverallTimes tr").remove(),currentpage=0,currentmap=e,document.getElementById("maps").style.display="none",document.getElementById("loading").style.opacity=1,document.getElementById("loading").style.zIndex=1,document.getElementById("previous").style.background=primary_text_color,document.getElementById("next").style.background=primary_background_color,document.getElementById("maps").style.display="none",document.getElementById("displayPlayerProfile").style.display="none",document.getElementById("playerLeaderboards").style.display="none",document.getElementById("graph_container").style.display="flex",document.getElementById("button_container").style.display="flex",document.getElementById("displayMapData").style.display="flex",document.getElementById("MapData-Image").src="",document.getElementById("MapData-Name").innerHTML="NA",document.getElementById("MapData-ProWR").innerHTML="<span style='display: inline-block; width:35px;'>Pro </span>NA",document.getElementById("MapData-TPWR").innerHTML="<span style='display: inline-block; width:35px;'>TP </span>NA",/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){document.getElementById("MapData-Text").style.display="none",document.getElementById("Pro_title").innerHTML="<span style='color:"+secondary_text_color+"'>Pro /</span> <span style='color:"+primary_text_color+"'> TP</span>";let e=document.getElementsByClassName("type_title");for(let t=0;t<e.length;t++)e[t].addEventListener("click",function(){"TP_title"===e[t].id?(document.getElementById("Pro_title").innerHTML="<span style='color:"+secondary_text_color+"'>Pro /</span> <span style='color:"+primary_text_color+"'> TP</span>",document.getElementById("topMapTimes").style.display="flex",document.getElementById("recentMapTimes").style.display="none"):"Pro_title"===e[t].id&&(document.getElementById("TP_title").innerHTML="<span style='color:"+primary_text_color+"'>Pro</span> <span style='color:"+secondary_text_color+"'>/ TP</span>",document.getElementById("topMapTimes").style.display="none",document.getElementById("recentMapTimes").style.display="flex")})}else document.getElementById("wr_progression_button").style.display="flex",document.getElementById("MapData-Text").style.display="flex";if(searchMapName=e.toLowerCase(),document.getElementById("searchMap").value=searchMapName,document.getElementById("searchMap").value.length>0){for(i=0;i<maplist.length;i++)if(maplist[i].name.includes(searchMapName)){searchMapName=maplist[i].name,document.getElementById("searchMap").value=maplist[i].name,t=kz_loadmap+"&map_id="+maplist[i].id+"&stage=0&has_teleports=false&limit=100&tickrate=128",n=kz_loadmap+"&map_id="+maplist[i].id+"&stage=0&has_teleports=true&limit=100&tickrate=128";break}window.history.pushState("map","Map","/?map="+searchMapName+"&mode="+currentmode),"kz_simple"===mode?(resetModeColor(),document.getElementById("mode-kz_simple-desktop").style.color=secondary_text_color):"kz_timer"===mode?(resetModeColor(),document.getElementById("mode-kz_timer-desktop").style.color=secondary_text_color):"kz_vanilla"===mode&&(resetModeColor(),document.getElementById("mode-kz_vanilla-desktop").style.color=secondary_text_color),$.ajax({url:n,success:function(e){mapRecentTimes=e.slice();let t=0;if(0===e.length){let e=document.getElementById("TableOverallTimes").insertRow(-1).insertCell(0);return e.id="DisableRight",e.innerHTML="No Records Found",document.getElementById("displayTimes").style.display="none",document.getElementById("displayMapTimes").style.display="flex",document.getElementById("MapData-Name").innerHTML=searchMapName,document.getElementById("MapData-Image").src=imageBaseURL+searchMapName+".jpg",document.getElementById("loading").style.zIndex=-1,void(document.getElementById("loading").style.opacity=0)}let n=e.length<20?e.length:20,r=document.getElementById("TableOverallTimes").insertRow(-1),o=r.insertCell(0),l=r.insertCell(1),a=r.insertCell(2),s=r.insertCell(3),d=r.insertCell(4),m=r.insertCell(5),c=r.insertCell(6);for(r.id="TableTitle",o.innerHTML="#",l.innerHTML="Player",a.innerHTML="Time",/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?s.innerHTML="TPs":s.innerHTML="Teleports",d.innerHTML="Points",m.innerHTML="Server",c.innerHTML="Date",document.getElementById("MapData-TPWR").innerHTML="<span style='display: inline-block; width:35px;'>TP </span><span style='color:"+primary_text_color+"'>"+timeConvert(e[0].time)+"</span> by <span style='color:"+primary_text_color+"'>"+e[0].player_name+"</span>",document.getElementById("MapData-Name").innerHTML=e[0].map_name,document.getElementById("MapData-Image").src=imageBaseURL+e[0].map_name+".jpg",i=0;i<n;i++){if(e[i].map_name!==searchMapName){document.getElementById("TableOverallTimes").insertRow(-1).insertCell(0).innerHTML="Invalid Map Name",document.getElementById("displayTimes").style.display="none",document.getElementById("displayMapData").style.display="flex",document.getElementById("displayMapTimes").style.display="flex";break}t++,checkLength(e[i]);let n=document.getElementById("TableOverallTimes").insertRow(-1),r=n.insertCell(0),o=n.insertCell(1),l=n.insertCell(2),a=n.insertCell(3),s=n.insertCell(4),d=n.insertCell(5),m=n.insertCell(6);n.id=e[i].steam_id,o.id="name",o.innerHTML=playerName,l.innerHTML=timeConvert(e[i].time),r.innerHTML=t,s.innerHTML=e[i].points,/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?a.innerHTML=e[i].teleports:(a.innerHTML=e[i].teleports+" TPs",null===e[i].server_name?d.innerHTML="null":e[i].server_name.length>18?d.innerHTML=e[i].server_name.substr(0,15)+"...":d.innerHTML=e[i].server_name,m.innerHTML=dateConvert(e[i].created_on)),document.getElementById("displayTimes").style.display="none",document.getElementById("displayMapData").style.display="flex",document.getElementById("displayMapTimes").style.display="flex"}enableScrolling(),document.getElementById("pagination").style.display="flex",setTimeout(function(){document.getElementById("loading").style.zIndex=-1,document.getElementById("loading").style.opacity=0},500),$("td").click(function(e){e.target.parentNode.id.includes("STEAM_")&&"TableOverallTimes"===e.target.parentNode.parentNode.parentNode.id&&(document.getElementById("searchMap").value=e.target.parentNode.id,current_has_teleports="false",getPlayerInfo("https://kztimerglobal.com/api/v2.0/records/top?steam_id="+e.target.parentNode.id+"&tickrate=128&stage=0&has_teleports="+current_has_teleports+"&limit=1200&place_top_at_least=20&modes_list_string="+currentmode,e.target.parentNode.id))})}}),$.ajax({url:t,success:function(e){mapProTimes=e.slice();let t=0;if(0===e.length){let e=document.getElementById("TableProTimes").insertRow(-1).insertCell(0);return e.id="DisableRight",e.innerHTML="No Records Found",document.getElementById("displayTimes").style.display="none",document.getElementById("displayMapTimes").style.display="flex",document.getElementById("loading").style.zIndex=-1,void(document.getElementById("loading").style.opacity=0)}let n=e.length<20?e.length:20,r=document.getElementById("TableProTimes").insertRow(-1),o=r.insertCell(0),l=r.insertCell(1),a=r.insertCell(2),s=r.insertCell(3),d=r.insertCell(4),m=r.insertCell(5);for(r.id="TableTitle",o.innerHTML="#",l.innerHTML="Player",a.innerHTML="Time",s.innerHTML="Points",d.innerHTML="Server",m.innerHTML="Date",document.getElementById("MapData-ProWR").innerHTML="<span style='display: inline-block; width:35px;'>Pro </span><span style='color:"+primary_text_color+"'>"+timeConvert(e[0].time)+"</span> by <span style='color:"+primary_text_color+"'>"+e[0].player_name+"</span>",document.getElementById("MapData-Name").innerHTML=e[0].map_name,document.getElementById("MapData-Image").src=imageBaseURL+e[0].map_name+".jpg","KZTimer Legacy DB"===e[0].server_name&&(document.getElementById("wr_progression_button").style.display="none"),i=0;i<n;i++){if(e[i].map_name!==searchMapName){document.getElementById("TableProTimes").insertRow(-1).insertCell(0).innerHTML="Invalid Map Name",document.getElementById("displayTimes").style.display="none",document.getElementById("displayMapTimes").style.display="flex";break}t++,checkLength(e[i]);let n=document.getElementById("TableProTimes").insertRow(-1),r=n.insertCell(0),o=n.insertCell(1),l=n.insertCell(2),a=n.insertCell(3),s=n.insertCell(4);n.id=e[i].steam_id,r.innerHTML=t,o.id="name",o.innerHTML=playerName,l.innerHTML=timeConvert(e[i].time),0===e[i].points?a.innerHTML="-":a.innerHTML=e[i].points,null===e[i].server_name?s.innerHTML="null":e[i].server_name.length>18?s.innerHTML=e[i].server_name.substr(0,15)+"...":s.innerHTML=e[i].server_name,n.insertCell(5).innerHTML=dateConvert(e[i].created_on),document.getElementById("displayTimes").style.display="none",document.getElementById("displayMapTimes").style.display="flex"}setTimeout(function(){document.getElementById("loading").style.zIndex=-1,document.getElementById("loading").style.opacity=0},500),enableScrolling(),document.getElementById("pagination").style.display="flex",$("td").click(function(e){e.target.parentNode.id.includes("STEAM_")&&"TableProTimes"===e.target.parentNode.parentNode.parentNode.id&&(document.getElementById("searchMap").value=e.target.parentNode.id,current_has_teleports="false",getPlayerInfo("https://kztimerglobal.com/api/v2.0/records/top?steam_id="+e.target.parentNode.id+"&tickrate=128&stage=0&has_teleports="+current_has_teleports+"&limit=1200&place_top_at_least=20&modes_list_string="+currentmode,e.target.parentNode.id))})}})}}function getRecent(){xhr2=$.ajax({url:recordsUrl,success:function(e){for(document.getElementById("displayTimes").style.display,mostRecentTimes=[],i=0;i<e.length;i++)e[i].time<5||mostRecentTimes.push(e[i]);for(mostRecentTimes=sortArray(mostRecentTimes),forSize=e.length<5?e.length:5,i=0;i<forSize;i++){if(document.getElementsByClassName("recent_runs").length>=5){setTimeout(function(){document.getElementById("loading").style.zIndex=-1},1e3),setTimeout(function(){document.getElementById("loading").style.opacity=0},500);break}checkLength(mostRecentTimes[i]);mostRecentTimes[i].updated_on.split("T");const e=$("<div>",{id:mostRecentTimes[i].map_name,class:"map_div recent_runs"});e.append("<img onerror=this.src='https://d2u7y93d5eagqt.cloudfront.net/mapImages/thumbs/tn_noimage.jpg' src="+imageBaseURL+mostRecentTimes[i].map_name+".jpg><span style='color:"+secondary_text_color+";'>"+mostRecentTimes[i].map_name+" <br>"+playerName+"<br><div>"+(0===mostRecentTimes[i].top_100?"NA":"#"+mostRecentTimes[i].top_100)+"</div> | <div>"+timeConvert(mostRecentTimes[i].time)+"</div><br>"+mostRecentTimes[i].teleports+" TPs</span>"),e.click(function(e){e.target.parentNode.id.includes("_")&&(document.getElementById("searchMap").value=e.target.parentNode.id,loadMap(document.getElementById("searchMap").value))}),$("#recentTimes").append(e),5==document.getElementsByClassName("pro_runs").length&&5==document.getElementsByClassName("recent_runs").length&&(setTimeout(function(){document.getElementById("loading").style.zIndex=-1},1e3),setTimeout(function(){document.getElementById("loading").style.opacity=0},500))}enableScrolling()},timeout:16e3,error:function(e,t,n){"timeout"===t?(console.log("Request has timed out."),xhr2.abort(),getRecent()):"abort"===n||(console.log(n),document.getElementById("errorloading").innerHTML="The API is having issues! Please try again in a few minutes.",document.getElementById("errorloading").style.display="flex")}})}function getLatest(){let e;xhr=$.ajax({url:recordsTopUrl,success:function(t){for(e=t,mostRecentTopTimes=[],usedTopTimes=[],mostRecentTopTimesFiltered=[],i=0;i<e.length;i++)e[i].time<5||mostRecentTopTimes.push(e[i]);for(i=0;i<mostRecentTopTimes.length;i++)usedTopTimes.includes(mostRecentTopTimes[i].map_id)||(mostRecentTopTimesFiltered.push(mostRecentTopTimes[i]),usedTopTimes.push(mostRecentTopTimes[i].map_id));for(mostRecentTopTimesFiltered=sortArray(mostRecentTopTimesFiltered),m=0;m<5;m++){if(document.getElementsByClassName("pro_runs").length>=5){setTimeout(function(){document.getElementById("loading").style.zIndex=-1},1e3),setTimeout(function(){document.getElementById("loading").style.opacity=0},500);break}if(m>=mostRecentTopTimesFiltered.length)break;checkLength(mostRecentTopTimesFiltered[m]);mostRecentTopTimesFiltered[m].updated_on.split("T");const e=$("<div>",{id:mostRecentTopTimesFiltered[m].map_name,class:"map_div pro_runs"});e.append("<img onerror=this.src='https://d2u7y93d5eagqt.cloudfront.net/mapImages/thumbs/tn_noimage.jpg' src="+imageBaseURL+mostRecentTopTimesFiltered[m].map_name+".jpg><span style='color:"+secondary_text_color+";'>"+mostRecentTopTimesFiltered[m].map_name+"<br>"+playerName+"<br><div>"+timeConvert(mostRecentTopTimesFiltered[m].time)+"</div><br><div style='color:"+secondary_text_color+"; font-size: 90%; font-style: italic'>"+getTimeDifference(mostRecentTopTimesFiltered[m].created_on)+"</div></span>"),e.click(function(e){e.target.parentNode.id.includes("_")&&(document.getElementById("searchMap").value=e.target.parentNode.id,loadMap(document.getElementById("searchMap").value))}),$("#topTimes").append(e),5==document.getElementsByClassName("pro_runs").length&&5==document.getElementsByClassName("recent_runs").length&&(setTimeout(function(){document.getElementById("loading").style.zIndex=-1},1e3),setTimeout(function(){document.getElementById("loading").style.opacity=0},500))}enableScrolling()},timeout:16e3,error:function(e,t,n){"timeout"===t?(console.log("Request has timed out."),xhr.abort(),getLatest()):"abort"===n||(console.log(n),document.getElementById("errorloading").innerHTML="The API is having issues! Please try again in a few minutes.",document.getElementById("errorloading").style.display="flex")}})}function recentAndLatest(){resetAll(),disableScrolling(),document.getElementById("loading").style.opacity=1,document.getElementById("loading").style.zIndex=1,document.getElementById("displayTimes").style.display="flex",document.getElementById("pagination").style.display="flex",$("#topTimes div").remove(),$("#recentTimes div").remove(),currentpage=0,document.getElementById("previous").style.background=primary_text_color,document.getElementById("next").style.background=primary_background_color,window.history.pushState("home","Home","/"),getRecent(),getLatest()}document.getElementById("showTimes").addEventListener("click",function(){link.includes("teleports=false")?(current_has_teleports="true",getPlayerInfo("https://kztimerglobal.com/api/v2.0/records/top?steam_id="+document.getElementById("searchMap").value+"&tickrate=128&stage=0&has_teleports="+current_has_teleports+"&limit=1200&modes_list_string="+currentmode,document.getElementById("searchMap").value)):(current_has_teleports="false",getPlayerInfo("https://kztimerglobal.com/api/v2.0/records/top?steam_id="+document.getElementById("searchMap").value+"&tickrate=128&stage=0&has_teleports="+current_has_teleports+"&limit=1200&&modes_list_string="+currentmode,document.getElementById("searchMap").value))}),document.getElementById("showGlobalTimes").addEventListener("click",function(){if("Show All Times"===document.getElementById("showGlobalTimes").innerHTML)getPlayerInfo_table(postTimes);else{for(globalTimes=[],i=0;i<postTimes.length;i++)1e3===postTimes[i].points&&globalTimes.push(postTimes[i]);getPlayerInfo_table_globals_only(globalTimes)}}),arrayX=[],arrayY=[],arrayX2=[],arrayY2=[],maplist=[];let minPoints=.1;function fmtMSS(e){return(e-(e%=60))/60+(9<e?":":":0")+e.toFixed(2)}function convertUTCDateToLocalDate(e){return new Date(new Date(e).getTime()-6e4*new Date(e).getTimezoneOffset())}function showWRProgression(e){arrayX=[],arrayY=[],arrayX2=[],arrayY2=[],arrayY3=[],fetch("https://kztimerglobal.com/api/v2.0/maps?name="+e).then(function(e){return e.json()}).then(function(e){map_id=e[0].id}).then(()=>{"kz_timer"===currentmode?map_mode=200:"kz_simple"===currentmode?map_mode=201:"kz_vanilla"===currentmode&&(map_mode=202);let e=[],t=[],n=[],r=[],o=[];fetch("https://kztimerglobal.com/api/v2.0/records/top/recent?map_id="+map_id+"&has_teleports=false&tickrate=128&stage=0&modes_list_string="+currentmode+"&place_top_at_least=1").then(function(e){return e.json()}).then(function(l){if(0===l.length)return;l.sort(function(e,t){return new Date(t.created_on).getTime()-new Date(e.created_on).getTime()}),t.push(new Date),n.push(l[0].time),r.push(fmtMSS(l[0].time)),o.push(l[0].player_name+"<br>"+timeConvert(l[0].time));let a=new Date(l[0].created_on).getTime(),s=l[0].time;for(i=0;i<l.length;i++){if(new Date(l[i].created_on).getTime()<a){if(l[i].time<s)continue;a=new Date(l[i].created_on).getTime(),s=l[i].time}t.push(convertUTCDateToLocalDate(l[i].created_on)),n.push(l[i].time),r.push(fmtMSS(l[i].time)),arrayY3.push(timeConvert(l[i].time)),o.push(l[i].player_name+"<br>"+timeConvert(l[i].time))}e={x:t,y:n,name:"WR Progression",type:"scatter",hoverinfo:"text+x",hovertext:o,hoverlabel:{bgcolor:primary_background_color},line:{shape:"vh",color:primary_text_color}};let d=[],m=[],c=n[n.length-1]-n[0];for(i=n[0];i<n[n.length-1];i+=c/11)d.push(i),m.push(timeConvert(i));let p={title:"World Record Progression for "+l[0].map_name+" on "+getmode_name(l[0].mode),yaxis:{autorange:!0,gridcolor:"#424242",title:"Time",ticks:"outside",tickmode:"array",tickvals:d,ticktext:m,tick0:0,ticklen:8,tickwidth:1,tickcolor:primary_text_color},xaxis:{autorange:!0,title:"Date",gridcolor:"#424242"},paper_bgcolor:primary_background_color,plot_bgcolor:primary_background_color,font:{color:secondary_text_color},modebar:{orientation:"v"}};Plotly.newPlot("map_graph",[e],p),document.getElementById("button_container").style.display="none",document.getElementById("graph_container").style.display="flex",document.getElementById("map_graph").style.display="flex"})})}function burr(e,n){for(i=0;i<1e4;i++){if(t=(i-loc)/scale,Math.pow(1+Math.pow(t,e),-n)<minPoints)break;arrayX2.push(i),arrayY2.push(e*n*Math.pow(t,e-1)*Math.pow(1+Math.pow(t,e),-n-1)/scale)}trace1={x:arrayX2,y:arrayY2,name:"burr",type:"scatter"}}function perc(e,n,r){for(i=0;i<1e4;i++){if(t=(i-loc)/scale,Math.pow(1+Math.pow(t,e),-d)<minPoints)break;arrayX.push(i),top_scale_fix=Math.pow(1+Math.pow(t,e),-d)*r,bigger_top_scale_fix=top_scale_fix>1?top_scale_fix=1:top_scale_fix,arrayY.push(bigger_top_scale_fix)}trace2={x:arrayX,y:arrayY,name:"percentile",yaxis:"y2",type:"scatter"}}function showLeaderboards(){void 0===currenttype?(currenttype="overall",void 0===currentmode?(currentmode="kz_simple",window.history.pushState("page","Page","/?page=leaderboards&mode="+currentmode+"&type="+currenttype),Leaderboard(currentmode,currenttype,current_has_teleports,20)):(window.history.pushState("page","Page","/?page=leaderboards&mode="+currentmode+"&type="+currenttype),Leaderboard(currentmode,currenttype,current_has_teleports,20))):void 0===currentmode?(currentmode="kz_simple",window.history.pushState("page","Page","/?page=leaderboards&mode="+currentmode+"&type="+currenttype),Leaderboard(currentmode,currenttype,current_has_teleports,20)):(window.history.pushState("page","Page","/?page=leaderboards&mode="+currentmode+"&type="+currenttype),Leaderboard(currentmode,currenttype,current_has_teleports,20))}function showBans(){document.getElementById("searchMap").value="",document.getElementById("playerBans").style.display="flex",document.getElementById("playerBanInfo").style.display="none",document.getElementById("maps").style.display="none",document.getElementById("playerLeaderboards").style.display="none",document.getElementById("displayMapTimes").style.display="none",document.getElementById("displayTimes").style.display="none",document.getElementById("displayPlayerProfile").style.display="none",document.getElementById("pagination").style.display="none",document.getElementById("graph_container").style.display="none",document.getElementById("button_container").style.display="none",document.getElementById("wr_progression_button").style.display="none",getBans(0)}function showMaps(){document.getElementById("searchMap").value="",document.getElementById("playerBans").style.display="none",document.getElementById("playerBanInfo").style.display="none",document.getElementById("playerLeaderboards").style.display="none",document.getElementById("displayMapTimes").style.display="none",document.getElementById("displayTimes").style.display="none",document.getElementById("displayPlayerProfile").style.display="none",document.getElementById("maps").style.display="flex",document.getElementById("pagination").style.display="flex",document.getElementById("graph_container").style.display="none",document.getElementById("button_container").style.display="none",document.getElementById("wr_progression_button").style.display="none",window.history.pushState("page","Page","/?page=maps"),getMaps(0)}function toggle(e){e.disabled=!0,setTimeout(function(){e.disabled=!1},500)}function delete_recent_and_wr(){let e=document.getElementById("recentTimes"),t=document.getElementById("topTimes");for(;3!==e.childNodes.length;)e.removeChild(e.lastChild);for(;3!==t.childNodes.length;)t.removeChild(t.lastChild)}function delete_maps_from_map_list(){let e=document.getElementsByClassName("maps_page_list");for(;e[0];)e[0].parentNode.removeChild(e[0])}window.onload=function(){if(window.history.replaceState(state,null,""),/Edge\/\d./i.test(navigator.userAgent));else{const e=new URL(document.location);page=e.searchParams.get("page")||"empty",name=e.searchParams.get("name")||"empty",map=e.searchParams.get("map")||"empty",mode=e.searchParams.get("mode")||"empty",type=e.searchParams.get("type")||"empty","empty"!==mode&&(currentmode=mode),"empty"!==type?(currenttype=type,document.getElementById("LeaderBoardOptions_overall").style.color=secondary_text_color,document.getElementById("LeaderBoardOptions_"+currenttype).style.color=primary_text_color):"empty"===type&&(document.getElementById("LeaderBoardOptions_overall").style.color=primary_text_color),"empty"!==page&&("leaderboards"!==page&&"leaderboard"!==page||(window.history.pushState("page","Page","/?page=leaderboards&mode="+currentmode+"&type="+type),showLeaderboards()),"bans"!==page&&"Bans"!==page||(window.history.pushState("page","Page","/?page=bans"),showBans()),"maps"!==page&&"Maps"!==page||(window.history.pushState("page","Page","/?page=maps"),setTimeout(function(){showMaps()},1e3))),"empty"!==map&&(document.getElementById("searchMap").value=map,setTimeout(function(){loadMap(document.getElementById("searchMap").value.toLowerCase()),document.getElementById("displayMapTimes").style.display="flex",document.getElementById("displayTimes").style.display="none"},1e3)),"empty"!==name&&(document.getElementById("searchMap").value=name,setTimeout(function(){name.startsWith("STEAM")?(current_has_teleports="false",getPlayerInfo("https://kztimerglobal.com/api/v2.0/records/top?steam_id="+document.getElementById("searchMap").value+"&tickrate=128&stage=0&has_teleports="+current_has_teleports+"&limit=1200&modes_list_string="+currentmode,document.getElementById("searchMap").value)):(current_has_teleports="false",getPlayerInfo("https://kztimerglobal.com/api/v2.0/records/top?player_name="+document.getElementById("searchMap").value+"&tickrate=128&stage=0&has_teleports="+current_has_teleports+"&limit=1200&modes_list_string="+currentmode,document.getElementById("searchMap").value)),document.getElementById("displayPlayerTimes").style.display="flex",document.getElementById("displayMapTimes").style.display="none",document.getElementById("displayTimes").style.display="none"}))}document.getElementById("searchMap").addEventListener("input",function(){this.value||"flex"!==document.getElementById("displayMapTimes").style.display||(document.getElementById("displayMapTimes").style.display="none",document.getElementById("displayTimes").style.display="flex",document.getElementById("displayPlayerProfile").style.display="none",document.getElementById("playerLeaderboards").style.display="none",delete_recent_and_wr())}),document.getElementById("LeaderBoardOptions_tech").addEventListener("click",function(){resetMapTags(),document.getElementById("LeaderBoardOptions_tech").style.color=primary_text_color,Leaderboard(currentmode,currenttype="tech",current_has_teleports,20)}),document.getElementById("LeaderBoardOptions_bhop").addEventListener("click",function(){resetMapTags(),document.getElementById("LeaderBoardOptions_bhop").style.color=primary_text_color,Leaderboard(currentmode,currenttype="bhop",current_has_teleports,20)}),document.getElementById("LeaderBoardOptions_climb").addEventListener("click",function(){resetMapTags(),document.getElementById("LeaderBoardOptions_climb").style.color=primary_text_color,Leaderboard(currentmode,currenttype="climb",current_has_teleports,20)}),document.getElementById("LeaderBoardOptions_combo").addEventListener("click",function(){resetMapTags(),document.getElementById("LeaderBoardOptions_combo").style.color=primary_text_color,Leaderboard(currentmode,currenttype="combo",current_has_teleports,20)}),document.getElementById("LeaderBoardOptions_overall").addEventListener("click",function(){resetMapTags(),document.getElementById("LeaderBoardOptions_overall").style.color=primary_text_color,Leaderboard(currentmode,currenttype="overall",current_has_teleports,20)}),document.getElementById("mode-kz_vanilla-desktop").addEventListener("click",function(){if(void 0!==xhr&&xhr.abort(),void 0!==xhr2&&xhr2.abort(),recordsUrl=kz_vanillaRecords,recordsTopUrl=kz_vanillaTopRecords,kz_loadmap=kz_vanillaLoadMap,currenttype="overall",resetModeColor(),document.getElementById("mode-kz_vanilla-desktop").style.color=secondary_text_color,resetMapTags(),document.getElementById("LeaderBoardOptions_overall").style.color=secondary_text_color,"flex"===document.getElementById("MobileMenu").style.display)return document.getElementById("MobileMenu").style.display="none",resetAll(),void recentAndLatest();if("flex"===document.getElementById("playerBans").style.display)return $("#TableTimes tr").remove(),$("#TableTimes td").remove(),delete_recent_and_wr(),resetAll(),void recentAndLatest();if("kz_vanilla"===currentmode&&"flex"===document.getElementById("playerLeaderboards").style.display)return $("#TableTimes tr").remove(),$("#TableTimes td").remove(),delete_recent_and_wr(),resetAll(),void recentAndLatest();if("kz_vanilla"!==currentmode&&"flex"===document.getElementById("playerLeaderboards").style.display)return currentmode="kz_vanilla",void showLeaderboards();if("kz_vanilla"===currentmode&&"flex"===document.getElementById("displayPlayerProfile").style.display)return $("#TableTimes tr").remove(),$("#TableTimes td").remove(),delete_recent_and_wr(),resetAll(),void recentAndLatest();if("kz_vanilla"===currentmode&&"flex"===document.getElementById("displayMapTimes").style.display)return delete_recent_and_wr(),resetAll(),void recentAndLatest();if(delete_recent_and_wr(),currentmode="kz_vanilla",currentpage=0,document.getElementById("graph_container").style.display="none",document.getElementById("map_graph").style.display="none",document.getElementById("previous").style.background=primary_text_color,document.getElementById("searchMap").value.length>0){if(!(document.getElementById("searchMap").value.startsWith("kz_")||document.getElementById("searchMap").value.startsWith("bkz_")||document.getElementById("searchMap").value.startsWith("xc_")||document.getElementById("searchMap").value.startsWith("skz_")))return document.getElementById("searchMap").value.toLowerCase().startsWith("steam")?(current_has_teleports="false",void getPlayerInfo("https://kztimerglobal.com/api/v2.0/records/top?steam_id="+document.getElementById("searchMap").value+"&tickrate=128&stage=0&has_teleports="+current_has_teleports+"&limit=1200&modes_list_string="+currentmode,document.getElementById("searchMap").value)):(current_has_teleports="false",void getPlayerInfo("https://kztimerglobal.com/api/v2.0/records/top?player_name="+document.getElementById("searchMap").value+"&tickrate=128&stage=0&has_teleports="+current_has_teleports+"&limit=1200&modes_list_string="+currentmode,document.getElementById("searchMap").value));loadMap(document.getElementById("searchMap").value),document.getElementById("displayMapTimes").style.display="flex",document.getElementById("displayTimes").style.display="none"}else resetAll(),recentAndLatest()}),document.getElementById("mode-kz_simple-desktop").addEventListener("click",function(){if(void 0!==xhr&&xhr.abort(),void 0!==xhr2&&xhr2.abort(),recordsUrl=kz_simpleRecords,recordsTopUrl=kz_simpleTopRecords,kz_loadmap=kz_simpleLoadMap,currenttype="overall",resetModeColor(),document.getElementById("mode-kz_simple-desktop").style.color=secondary_text_color,resetMapTags(),document.getElementById("LeaderBoardOptions_overall").style.color=secondary_text_color,"flex"===document.getElementById("MobileMenu").style.display)return document.getElementById("MobileMenu").style.display="none",resetAll(),void recentAndLatest();if("flex"===document.getElementById("playerBans").style.display)return $("#TableTimes tr").remove(),$("#TableTimes td").remove(),delete_recent_and_wr(),resetAll(),void recentAndLatest();if("kz_simple"===currentmode&&"flex"===document.getElementById("playerLeaderboards").style.display)return $("#TableTimes tr").remove(),$("#TableTimes td").remove(),delete_recent_and_wr(),resetAll(),void recentAndLatest();if("kz_simple"!==currentmode&&"flex"===document.getElementById("playerLeaderboards").style.display)return currentmode="kz_simple",void showLeaderboards();if("kz_simple"===currentmode&&"flex"===document.getElementById("displayPlayerProfile").style.display)return $("#TableTimes tr").remove(),$("#TableTimes td").remove(),delete_recent_and_wr(),resetAll(),void recentAndLatest();if("kz_simple"===currentmode&&"flex"===document.getElementById("displayMapTimes").style.display)return delete_recent_and_wr(),resetAll(),void recentAndLatest();if(delete_recent_and_wr(),currentmode="kz_simple",currentpage=0,document.getElementById("graph_container").style.display="none",document.getElementById("map_graph").style.display="none",document.getElementById("previous").style.background=primary_text_color,document.getElementById("searchMap").value.length>0){if(!(document.getElementById("searchMap").value.startsWith("kz_")||document.getElementById("searchMap").value.startsWith("bkz_")||document.getElementById("searchMap").value.startsWith("xc_")||document.getElementById("searchMap").value.startsWith("skz_")))return document.getElementById("searchMap").value.toLowerCase().startsWith("steam")?(current_has_teleports="false",void getPlayerInfo("https://kztimerglobal.com/api/v2.0/records/top?steam_id="+document.getElementById("searchMap").value+"&tickrate=128&stage=0&has_teleports="+current_has_teleports+"&limit=1200&modes_list_string="+currentmode,document.getElementById("searchMap").value)):(current_has_teleports="false",void getPlayerInfo("https://kztimerglobal.com/api/v2.0/records/top?player_name="+document.getElementById("searchMap").value+"&tickrate=128&stage=0&has_teleports="+current_has_teleports+"&limit=1200&modes_list_string="+currentmode,document.getElementById("searchMap").value));loadMap(document.getElementById("searchMap").value),document.getElementById("displayMapTimes").style.display="flex",document.getElementById("displayTimes").style.display="none"}else resetAll(),recentAndLatest()}),document.getElementById("mode-kz_timer-desktop").addEventListener("click",function(){if(void 0!==xhr&&xhr.abort(),void 0!==xhr2&&xhr2.abort(),recordsUrl=kz_timerRecords,recordsTopUrl=kz_timerTopRecords,kz_loadmap=kz_timerLoadMap,currenttype="overall",resetModeColor(),document.getElementById("mode-kz_timer-desktop").style.color=secondary_text_color,resetMapTags(),document.getElementById("LeaderBoardOptions_overall").style.color=secondary_text_color,"flex"===document.getElementById("MobileMenu").style.display)return document.getElementById("MobileMenu").style.display="none",resetAll(),void recentAndLatest();if("flex"===document.getElementById("playerBans").style.display)return $("#TableTimes tr").remove(),$("#TableTimes td").remove(),delete_recent_and_wr(),resetAll(),void recentAndLatest();if("kz_timer"===currentmode&&"flex"===document.getElementById("playerLeaderboards").style.display)return $("#TableTimes tr").remove(),$("#TableTimes td").remove(),delete_recent_and_wr(),resetAll(),void recentAndLatest();if("kz_timer"!==currentmode&&"flex"===document.getElementById("playerLeaderboards").style.display)return currentmode="kz_timer",void showLeaderboards();if("kz_timer"===currentmode&&"flex"===document.getElementById("displayPlayerProfile").style.display)return $("#TableTimes tr").remove(),$("#TableTimes td").remove(),delete_recent_and_wr(),resetAll(),void recentAndLatest();if("kz_timer"===currentmode&&"flex"===document.getElementById("displayMapTimes").style.display)return delete_recent_and_wr(),resetAll(),void recentAndLatest();if(delete_recent_and_wr(),currentmode="kz_timer",currentpage=0,document.getElementById("graph_container").style.display="none",document.getElementById("map_graph").style.display="none",document.getElementById("previous").style.background=primary_text_color,document.getElementById("searchMap").value.length>0){if(!(document.getElementById("searchMap").value.startsWith("kz_")||document.getElementById("searchMap").value.startsWith("bkz_")||document.getElementById("searchMap").value.startsWith("xc_")||document.getElementById("searchMap").value.startsWith("skz_")))return document.getElementById("searchMap").value.toLowerCase().startsWith("steam")?(current_has_teleports="false",void getPlayerInfo("https://kztimerglobal.com/api/v2.0/records/top?steam_id="+document.getElementById("searchMap").value+"&tickrate=128&stage=0&has_teleports="+current_has_teleports+"&limit=1200&modes_list_string="+currentmode,document.getElementById("searchMap").value)):(current_has_teleports="false",void getPlayerInfo("https://kztimerglobal.com/api/v2.0/records/top?player_name="+document.getElementById("searchMap").value+"&tickrate=128&stage=0&has_teleports="+current_has_teleports+"&limit=1200&modes_list_string="+currentmode,document.getElementById("searchMap").value));loadMap(document.getElementById("searchMap").value),document.getElementById("displayMapTimes").style.display="flex",document.getElementById("displayTimes").style.display="none"}else resetAll(),recentAndLatest()}),document.getElementById("searchPlayerInfo_input").addEventListener("keydown",function(e){let t=[];if(13===e.keyCode){for(i=0;i<maplist.length;i++){if(maplist[i].name===document.getElementById("searchPlayerInfo_input").value){t.push(maplist[i].name);break}maplist[i].name.includes(document.getElementById("searchPlayerInfo_input").value)&&t.push(maplist[i].name)}if(t.length>1&&"flex"===document.getElementById("displayPlayerProfile").style.display)return t.length>20?document.getElementById("pagination").style.display="flex":document.getElementById("pagination").style.display="none",void sortPlayerInfo(document.getElementById("searchPlayerInfo_input").value);if(1===t.length&&"flex"===document.getElementById("displayPlayerProfile").style.display)return document.getElementById("searchPlayerInfo_input").value=t[0],document.getElementById("pagination").style.display="none",void sortPlayerInfo(t[0])}}),document.getElementById("searchMap").addEventListener("keydown",function(e){let t=[];if(13===e.keyCode&&document.getElementById("searchMap").value.length>0){for(i=0;i<maplist.length;i++){if(maplist[i].name===document.getElementById("searchMap").value.toLowerCase()){t.push(maplist[i].name);break}maplist[i].name.includes(document.getElementById("searchMap").value.toLowerCase())&&t.push(maplist[i].name)}return t.length>1?void getsMapsSearch(t):1===t.length?(document.getElementById("searchMap").value=t[0],void loadMap(document.getElementById("searchMap").value.toLowerCase())):document.getElementById("searchMap").value.toLowerCase().startsWith("steam")?void("flex"===document.getElementById("playerBans").style.display?getPlayerBanInfo("https://kztimerglobal.com/api/v2.0/bans?steam_id="+document.getElementById("searchMap").value):(current_has_teleports="false",getPlayerInfo("https://kztimerglobal.com/api/v2.0/records/top?steam_id="+document.getElementById("searchMap").value+"&tickrate=128&stage=0&has_teleports="+current_has_teleports+"&limit=1200&modes_list_string="+currentmode,document.getElementById("searchMap").value))):(current_has_teleports="false",void getPlayerInfo("https://kztimerglobal.com/api/v2.0/records/top?player_name="+document.getElementById("searchMap").value+"&tickrate=128&stage=0&has_teleports="+current_has_teleports+"&limit=1200&modes_list_string="+currentmode,document.getElementById("searchMap").value))}}),document.getElementById("previous").addEventListener("click",function(){if("flex"===document.getElementById("maps").style.display){if(document.getElementById("previous").style.background===primary_text_color)return;(currentpage-=18)<=0&&(currentpage=0,document.getElementById("previous").style.background=primary_text_color),currentpage<maplist.length&&(document.getElementById("next").style.background=primary_background_color),getMaps(currentpage)}if("none"!==document.getElementById("displayMapTimes").style.display){if(document.getElementById("next").style.background===primary_text_color)return;(currentpage-=20)<=0&&(currentpage=0,document.getElementById("previous").style.background=primary_text_color);let e=currentpage,t=currentpage;if(mostPositions=mapRecentTimes>=mapProTimes?mapRecentTimes:mapProTimes,currentpage>=mostPositions.length?(currentpage=Math.floor(mostPositions.length),document.getElementById("previous").style.background=primary_background_color,document.getElementById("next").style.background=primary_text_color):document.getElementById("next").style.background=primary_background_color,$("#TableOverallTimes tr").remove(),$("#TableProTimes tr").remove(),mostPositions.length<=currentpage){return document.getElementById("TableOverallTimes").insertRow(-1).insertCell(0).innerHTML="No Other Records Found",void(document.getElementById("TableProTimes").insertRow(-1).insertCell(0).innerHTML="No Other Records Found")}{let t=document.getElementById("TableOverallTimes").insertRow(-1),n=t.insertCell(0),r=t.insertCell(1),o=t.insertCell(2),l=t.insertCell(3),a=t.insertCell(4),s=t.insertCell(5),d=t.insertCell(6);for(t.id="TableTitle",n.innerHTML="#",r.innerHTML="Player",o.innerHTML="Time",/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?l.innerHTML="TPs":l.innerHTML="Teleports",a.innerHTML="Points",s.innerHTML="Server",d.innerHTML="Date",i=currentpage;i<currentpage+20&&!(mapRecentTimes.length<=i);i++){e++,checkLength(mapRecentTimes[i]);let t=document.getElementById("TableOverallTimes").insertRow(-1),n=t.insertCell(0),r=t.insertCell(1),o=t.insertCell(2),l=t.insertCell(3),a=t.insertCell(4),s=t.insertCell(5),d=t.insertCell(6);t.id=mapRecentTimes[i].steam_id,n.innerHTML=e,r.id="name",r.innerHTML=playerName,o.innerHTML=timeConvert(mapRecentTimes[i].time),a.innerHTML=mapRecentTimes[i].points,/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?l.innerHTML=mapRecentTimes[i].teleports:(l.innerHTML=mapRecentTimes[i].teleports+" TPs",null==mapRecentTimes[i].server_name?s.innerHTML="NA":mapRecentTimes[i].server_name.length>18?s.innerHTML=mapRecentTimes[i].server_name.substr(0,15)+"...":s.innerHTML=mapRecentTimes[i].server_name,d.innerHTML=dateConvert(mapRecentTimes[i].created_on))}$("td").click(function(e){e.target.parentNode.id.includes("STEAM_")&&(document.getElementById("searchMap").value=e.target.parentNode.id,current_has_teleports="false",getPlayerInfo("https://kztimerglobal.com/api/v2.0/records/top?steam_id="+e.target.parentNode.id+"&tickrate=128&stage=0&has_teleports="+current_has_teleports+"&limit=1200&&place_top_at_least=20&modes_list_string="+currentmode,e.target.parentNode.id))})}if(mapProTimes.length<=currentpage){document.getElementById("TableProTimes").insertRow(-1).insertCell(0).innerHTML="No Other Records Found"}else{let e=document.getElementById("TableProTimes").insertRow(-1),n=e.insertCell(0),r=e.insertCell(1),o=e.insertCell(2),l=e.insertCell(3),a=e.insertCell(4),s=e.insertCell(5);for(e.id="TableTitle",n.innerHTML="#",r.innerHTML="Player",o.innerHTML="Time",l.innerHTML="Points",a.innerHTML="Server",s.innerHTML="Date",i=currentpage;i<currentpage+20&&mapProTimes.length!==i;i++){t++,checkLength(mapProTimes[i]);let e=document.getElementById("TableProTimes").insertRow(-1),n=e.insertCell(0),r=e.insertCell(1),o=e.insertCell(2),l=e.insertCell(3),a=e.insertCell(4);e.id=mapProTimes[i].steam_id,n.innerHTML=t,r.id="name",r.innerHTML=playerName,0===mapProTimes[i].points?l.innerHTML="-":l.innerHTML=mapProTimes[i].points,o.innerHTML=timeConvert(mapProTimes[i].time),null==mapProTimes[i].server_name?a.innerHTML="NA":mapProTimes[i].server_name.length>18?a.innerHTML=mapProTimes[i].server_name.substr(0,15)+"...":a.innerHTML=mapProTimes[i].server_name,e.insertCell(5).innerHTML=dateConvert(mapProTimes[i].created_on)}$("td").click(function(e){e.target.parentNode.id.includes("STEAM_")&&(document.getElementById("searchMap").value=e.target.parentNode.id,resetAll(),current_has_teleports="false",getPlayerInfo("https://kztimerglobal.com/api/v2.0/records/top?steam_id="+e.target.parentNode.id+"&tickrate=128&stage=0&has_teleports="+current_has_teleports+"&limit=1200&&place_top_at_least=20&modes_list_string="+currentmode,e.target.parentNode.id))})}}if("none"!==document.getElementById("displayPlayerProfile").style.display){if(document.getElementById("previous").style.background===primary_text_color)return;(currentpage-=20)<=0&&(currentpage=0,document.getElementById("previous").style.background=primary_text_color),currentpage<80&&(document.getElementById("next").style.background=primary_background_color),$("#TableTimes tr").remove();let e=0;if(postTimes.length<=currentpage+e){return void(document.getElementById("TableTimes").insertRow(-1).insertCell(0).innerHTML="No Other Records Found")}if("Show All Times"===document.getElementById("showGlobalTimes").innerHTML){if(globalTimes.length<currentpage){return void(document.getElementById("TableTimes").insertRow(-1).insertCell(0).innerHTML="No Other Records Found")}{let t=[];for(e=0,i=currentpage;i<currentpage+20&&!(globalTimes.length<=currentpage+e);i++)1e3===globalTimes[i].points&&(t.push(globalTimes[i]),e++);getPlayerInfo_table_globals_only(t)}}else{let t=[];for(i=currentpage;i<currentpage+20&&!(postTimes.length<=currentpage+e);i++){if(20===e){e=0;break}t.push(postTimes[i]),e++}getPlayerInfo_table(t)}}if("none"!==document.getElementById("displayTimes").style.display){if(document.getElementById("previous").style.background===primary_text_color)return;for((currentpage-=5)<=0&&(currentpage=0,document.getElementById("previous").style.background=primary_text_color),currentpage<25&&(document.getElementById("next").style.background=primary_background_color),delete_recent_and_wr(),i=currentpage;i<currentpage+5;i++){checkLength(mostRecentTimes[i]);mostRecentTimes[i].updated_on.split("T");const e=$("<div>",{id:mostRecentTimes[i].map_name,class:"map_div"});e.append("<img src="+imageBaseURL+mostRecentTimes[i].map_name+".jpg><span style='color:"+secondary_text_color+";'>"+mostRecentTimes[i].map_name+" <br>"+playerName+"<br><div>"+(0===mostRecentTimes[i].top_100?"NA":"#"+mostRecentTimes[i].top_100)+"</div> | <div>"+timeConvert(mostRecentTimes[i].time)+"</div><br>"+mostRecentTimes[i].teleports+" TPs</span>"),e.click(function(e){e.target.parentNode.id.includes("_")&&(document.getElementById("searchMap").value=e.target.parentNode.id,loadMap(document.getElementById("searchMap").value))}),$("#recentTimes").append(e)}for(m=currentpage;m<currentpage+5;m++){if(m>mostRecentTopTimesFiltered.length){$("#topTimes").append("<div style='color:"+secondary_text_color+"'>No other records found</div>");break}if(m>=mostRecentTopTimesFiltered.length)break;checkLength(mostRecentTopTimesFiltered[m]);mostRecentTopTimesFiltered[m].updated_on.split("T");const e=$("<div>",{id:mostRecentTopTimesFiltered[m].map_name,class:"map_div"});e.append("<img src="+imageBaseURL+mostRecentTopTimesFiltered[m].map_name+".jpg><span style='color:"+secondary_text_color+";'>"+mostRecentTopTimesFiltered[m].map_name+"<br>"+playerName+"<br><div>"+timeConvert(mostRecentTopTimesFiltered[m].time)+"</div><br><div style='color:"+secondary_text_color+"; font-size: 90%; font-style: italic'>"+getTimeDifference(mostRecentTopTimesFiltered[m].created_on)+"</div></span>"),e.click(function(e){e.target.parentNode.id.includes("_")&&(document.getElementById("searchMap").value=e.target.parentNode.id,loadMap(document.getElementById("searchMap").value))}),$("#topTimes").append(e)}}}),document.getElementById("next").addEventListener("click",function(){if("flex"===document.getElementById("maps").style.display){if(document.getElementById("previous").style.background===primary_text_color)return;(currentpage+=18)>=maplist.length&&(currentpage=maplist.length-18,document.getElementById("next").style.background=primary_text_color),currentpage>0&&(document.getElementById("previous").style.background=primary_background_color),getMaps(currentpage)}if("none"!==document.getElementById("displayMapTimes").style.display){if(document.getElementById("next").style.background===primary_text_color)return;if((currentpage+=20)>0&&(document.getElementById("previous").style.background=primary_background_color),currentpage>=80&&(document.getElementById("next").style.background=primary_text_color),currentpage>=100)return void(currentpage=80);let e=currentpage,t=currentpage;if(mostPositions=mapRecentTimes>=mapProTimes?mapRecentTimes:mapProTimes,currentpage>=mostPositions.length&&(currentpage=Math.floor(mostPositions.length),document.getElementById("previous").style.background=primary_background_color),$("#TableOverallTimes tr").remove(),$("#TableProTimes tr").remove(),mostPositions.length<=currentpage){return document.getElementById("TableOverallTimes").insertRow(-1).insertCell(0).innerHTML="No Other Records Found",document.getElementById("TableProTimes").insertRow(-1).insertCell(0).innerHTML="No Other Records Found",void(currentpage=10*Math.ceil(currentpage/10))}{let t=document.getElementById("TableOverallTimes").insertRow(-1),n=t.insertCell(0),r=t.insertCell(1),o=t.insertCell(2),l=t.insertCell(3),a=t.insertCell(4),s=t.insertCell(5),d=t.insertCell(6);for(t.id="TableTitle",n.innerHTML="#",r.innerHTML="Player",o.innerHTML="Time",/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?l.innerHTML="TPs":l.innerHTML="Teleports",a.innerHTML="Points",s.innerHTML="Server",d.innerHTML="Date",i=currentpage;i<currentpage+20&&!(mapRecentTimes.length<=i);i++){e++,checkLength(mapRecentTimes[i]);let t=document.getElementById("TableOverallTimes").insertRow(-1),n=t.insertCell(0),r=t.insertCell(1),o=t.insertCell(2),l=t.insertCell(3),a=t.insertCell(4),s=t.insertCell(5),d=t.insertCell(6);t.id=mapRecentTimes[i].steam_id,n.innerHTML=e,r.id="name",r.innerHTML=playerName,o.innerHTML=timeConvert(mapRecentTimes[i].time),a.innerHTML=mapRecentTimes[i].points,/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?l.innerHTML=mapRecentTimes[i].teleports:(l.innerHTML=mapRecentTimes[i].teleports+" TPs",null==mapRecentTimes[i].server_name?s.innerHTML="NA":mapRecentTimes[i].server_name.length>18?s.innerHTML=mapRecentTimes[i].server_name.substr(0,15)+"...":s.innerHTML=mapRecentTimes[i].server_name,d.innerHTML=dateConvert(mapRecentTimes[i].created_on))}}if(mapProTimes.length<=currentpage){document.getElementById("TableProTimes").insertRow(-1).insertCell(0).innerHTML="No Other Records Found"}else{let e=document.getElementById("TableProTimes").insertRow(-1),n=e.insertCell(0),r=e.insertCell(1),o=e.insertCell(2),l=e.insertCell(3),a=e.insertCell(4),s=e.insertCell(5);for(e.id="TableTitle",n.innerHTML="#",r.innerHTML="Player",o.innerHTML="Time",l.innerHTML="Points",a.innerHTML="Server",s.innerHTML="Date",i=currentpage;i<currentpage+20&&mapProTimes.length!==i;i++){t++,checkLength(mapProTimes[i]);let e=document.getElementById("TableProTimes").insertRow(-1),n=e.insertCell(0),r=e.insertCell(1),o=e.insertCell(2),l=e.insertCell(3),a=e.insertCell(4);e.id=mapProTimes[i].steam_id,n.innerHTML=t,r.id="name",r.innerHTML=playerName,o.innerHTML=timeConvert(mapProTimes[i].time),0===mapProTimes[i].points?l.innerHTML="-":l.innerHTML=mapProTimes[i].points,null==mapProTimes[i].server_name?a.innerHTML="NA":mapProTimes[i].server_name.length>18?a.innerHTML=mapProTimes[i].server_name.substr(0,15)+"...":a.innerHTML=mapProTimes[i].server_name,e.insertCell(5).innerHTML=dateConvert(mapProTimes[i].created_on)}}$("td").click(function(e){e.target.parentNode.id.includes("STEAM_")&&(document.getElementById("searchMap").value=e.target.parentNode.id,current_has_teleports="false",getPlayerInfo("https://kztimerglobal.com/api/v2.0/records/top?steam_id="+e.target.parentNode.id+"&tickrate=128&stage=0&has_teleports="+current_has_teleports+"&limit=1200&&place_top_at_least=20&modes_list_string="+currentmode,e.target.parentNode.id))})}if("none"!==document.getElementById("displayPlayerProfile").style.display){if(document.getElementById("next").style.background===primary_text_color)return;(currentpage+=20)>0&&(document.getElementById("previous").style.background=primary_background_color),currentpage>=maplist.length&&(currentpage=Math.floor(maplist.length),document.getElementById("previous").style.background=primary_background_color,document.getElementById("next").style.background=primary_text_color),$("#TableTimes tr").remove();let e=0;if(postTimes.length<=currentpage+e){return void(document.getElementById("TableTimes").insertRow(-1).insertCell(0).innerHTML="No Other Records Found")}if("Show All Times"===document.getElementById("showGlobalTimes").innerHTML){if(globalTimes.length<currentpage){return void(document.getElementById("TableTimes").insertRow(-1).insertCell(0).innerHTML="No Other Records Found")}{let t=[];for(e=0,i=currentpage;i<currentpage+20&&!(globalTimes.length<=currentpage+e);i++)1e3===globalTimes[i].points&&(t.push(globalTimes[i]),e++);getPlayerInfo_table_globals_only(t)}}else{let t=[];for(i=currentpage;i<currentpage+20&&!(postTimes.length<=currentpage+e);i++){if(20===e){e=0;break}t.push(postTimes[i]),e++}getPlayerInfo_table(t)}}if("none"!==document.getElementById("displayTimes").style.display){if(document.getElementById("next").style.background===primary_text_color)return;for((currentpage+=5)>0&&(document.getElementById("previous").style.background=primary_background_color),currentpage>=25&&(currentpage=25,document.getElementById("previous").style.background=primary_background_color,document.getElementById("next").style.background=primary_text_color),delete_recent_and_wr(),i=currentpage;i<currentpage+5;i++){checkLength(mostRecentTimes[i]);mostRecentTimes[i].updated_on.split("T");const e=$("<div>",{id:mostRecentTimes[i].map_name,class:"map_div"});e.append("<img src="+imageBaseURL+mostRecentTimes[i].map_name+".jpg><span style='color:"+secondary_text_color+";'>"+mostRecentTimes[i].map_name+" <br>"+playerName+"<br><div>"+(0===mostRecentTimes[i].top_100?"NA":"#"+mostRecentTimes[i].top_100)+"</div> | <div>"+timeConvert(mostRecentTimes[i].time)+"</div><br>"+mostRecentTimes[i].teleports+" TPs</span>"),e.click(function(e){e.target.parentNode.id.includes("_")&&(document.getElementById("searchMap").value=e.target.parentNode.id,loadMap(document.getElementById("searchMap").value))}),$("#recentTimes").append(e)}for(m=currentpage;m<currentpage+5;m++){if(m>mostRecentTopTimesFiltered.length){$("#topTimes").append("<div style='color:"+primary_text_color+"'>No other records found</div>");break}if(m>=mostRecentTopTimesFiltered.length)break;checkLength(mostRecentTopTimesFiltered[m]);mostRecentTopTimesFiltered[m].updated_on.split("T");const e=$("<div>",{id:mostRecentTopTimesFiltered[m].map_name,class:"map_div"});e.append("<img src="+imageBaseURL+mostRecentTopTimesFiltered[m].map_name+".jpg><span style='color:"+secondary_text_color+";'>"+mostRecentTopTimesFiltered[m].map_name+"<br>"+playerName+"<br><div>"+timeConvert(mostRecentTopTimesFiltered[m].time)+"</div><br><div style='color:"+secondary_text_color+"; font-size: 90%; font-style: italic'>"+getTimeDifference(mostRecentTopTimesFiltered[m].created_on)+"</div></span>"),e.click(function(e){e.target.parentNode.id.includes("_")&&(document.getElementById("searchMap").value=e.target.parentNode.id,loadMap(document.getElementById("searchMap").value))}),$("#topTimes").append(e)}}document.getElementById("playerLeaderboards").style.display}),document.getElementById("wr_progression_button").addEventListener("click",function(){if(document.getElementById("searchMap").value.length>0)for(i=0;i<maplist.length;i++)if(maplist[i].name.includes(currentmap)){document.getElementById("searchMap").value=maplist[i].name,showWRProgression(document.getElementById("searchMap").value);break}}),document.getElementById("show_more_leaderboards_button").addEventListener("click",function(){Leaderboard(currentmode,currenttype,current_has_teleports,100)}),document.getElementById("LeaderboardMode").addEventListener("click",function(){"false"===current_has_teleports?(current_has_teleports="true",document.getElementById("LeaderboardMode").innerHTML="<h2>TP</h2>"):(current_has_teleports="false",document.getElementById("LeaderboardMode").innerHTML="<h2>Pro</h2>"),Leaderboard(currentmode,currenttype,current_has_teleports,20)}),document.getElementById("MobileLeaderboardsMode").addEventListener("click",function(){"true"===current_has_teleports?(current_has_teleports="false",document.getElementById("MobileLeaderboardsMode").innerHTML="<span style='color:"+secondary_text_color+"'>Pro /</span> <span style='color:"+primary_text_color+"'>&nbsp;TP</span>"):(current_has_teleports="true",document.getElementById("MobileLeaderboardsMode").innerHTML="<span style='color:"+primary_text_color+"'>Pro&nbsp;</span> <span style='color:"+secondary_text_color+"'>/ TP</span>"),Leaderboard(currentmode,currenttype,current_has_teleports,20)}),"empty"===mode?(currentmode="kz_simple",recordsUrl=kz_simpleRecords,recordsTopUrl=kz_simpleTopRecords,kz_loadmap=kz_simpleLoadMap,document.getElementById("mode-kz_simple-desktop").style.color=secondary_text_color):"kz_simple"===mode?(recordsUrl=kz_simpleRecords,recordsTopUrl=kz_simpleTopRecords,kz_loadmap=kz_simpleLoadMap,document.getElementById("mode-kz_simple-desktop").style.color=secondary_text_color):"kz_timer"===mode?(recordsUrl=kz_timerRecords,recordsTopUrl=kz_timerTopRecords,kz_loadmap=kz_timerLoadMap,document.getElementById("mode-kz_timer-desktop").style.color=secondary_text_color):"kz_vanilla"===mode&&(recordsUrl=kz_vanillaRecords,recordsTopUrl=kz_vanillaTopRecords,kz_loadmap=kz_vanillaLoadMap,document.getElementById("mode-kz_vanilla-desktop").style.color=secondary_text_color),document.getElementById("displayPlayerProfile").style.display="none",document.getElementById("displayMapTimes").style.display="none",document.getElementById("next").style.background=primary_background_color,"empty"===page&&"empty"===map&&"empty"===name&&recentAndLatest()};
